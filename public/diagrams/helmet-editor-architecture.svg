<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Inter, sans-serif; font-size: 24px; font-weight: 600; fill: #ffffff; }
      .section-title { font-family: Inter, sans-serif; font-size: 16px; font-weight: 600; fill: #ffffff; }
      .label { font-family: Inter, sans-serif; font-size: 14px; font-weight: 500; fill: #e5e5e5; }
      .sub-label { font-family: Inter, sans-serif; font-size: 12px; fill: #a0a0a0; }
      .arrow { stroke: #3b82f6; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .box { fill: rgba(255, 255, 255, 0.05); stroke: rgba(255, 255, 255, 0.1); stroke-width: 1; rx: 8; }
      .box-highlight { fill: rgba(59, 130, 246, 0.1); stroke: rgba(59, 130, 246, 0.3); stroke-width: 1.5; rx: 8; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#3b82f6" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#030303"/>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="title">Helmet Editor Architecture (R3F)</text>
  
  <!-- Asset Pipeline -->
  <g id="asset-pipeline">
    <text x="100" y="100" class="section-title">Asset Pipeline (Blender)</text>
    
    <!-- Blender Models -->
    <rect x="50" y="120" width="180" height="100" class="box"/>
    <text x="140" y="145" text-anchor="middle" class="label">Blender Models</text>
    <text x="140" y="165" text-anchor="middle" class="sub-label">Base Geometry</text>
    <text x="140" y="180" text-anchor="middle" class="sub-label">UV Mapping</text>
    <text x="140" y="195" text-anchor="middle" class="sub-label">Vertex Colors (5 Zones)</text>
    
    <!-- Python Automation -->
    <rect x="280" y="120" width="180" height="100" class="box-highlight"/>
    <text x="370" y="145" text-anchor="middle" class="label">Python Automation</text>
    <text x="370" y="165" text-anchor="middle" class="sub-label">Batch Export</text>
    <text x="370" y="180" text-anchor="middle" class="sub-label">Zone Validation</text>
    <text x="370" y="195" text-anchor="middle" class="sub-label">Material Baking</text>
    
    <!-- GLB Output -->
    <rect x="510" y="120" width="180" height="100" class="box"/>
    <text x="600" y="145" text-anchor="middle" class="label">GLB/GLTF</text>
    <text x="600" y="165" text-anchor="middle" class="sub-label">Draco Compression</text>
    <text x="600" y="180" text-anchor="middle" class="sub-label">Optimized Assets</text>
  </g>
  
  <!-- Arrows in Asset Pipeline -->
  <line x1="230" y1="170" x2="280" y2="170" class="arrow"/>
  <line x1="460" y1="170" x2="510" y2="170" class="arrow"/>
  
  <!-- 3D Engine -->
  <g id="engine">
    <text x="100" y="350" class="section-title">React Three Fiber Engine</text>
    
    <!-- Canvas -->
    <rect x="50" y="380" width="200" height="140" class="box-highlight"/>
    <text x="150" y="410" text-anchor="middle" class="label">R3F Canvas</text>
    <text x="150" y="430" text-anchor="middle" class="sub-label">@react-three/fiber</text>
    <text x="150" y="450" text-anchor="middle" class="sub-label">@react-three/drei</text>
    <text x="150" y="470" text-anchor="middle" class="sub-label">Environment</text>
    <text x="150" y="490" text-anchor="middle" class="sub-label">OrbitControls</text>
    
    <!-- Material System -->
    <rect x="300" y="380" width="200" height="140" class="box-highlight"/>
    <text x="400" y="410" text-anchor="middle" class="label">Material System</text>
    <text x="400" y="430" text-anchor="middle" class="sub-label">MeshStandardMaterial</text>
    <text x="400" y="450" text-anchor="middle" class="sub-label">Dynamic Texture Mapping</text>
    <text x="400" y="470" text-anchor="middle" class="sub-label">Zone-based Application</text>
    <text x="400" y="490" text-anchor="middle" class="sub-label">Pattern Overlays</text>
  </g>
  
  <!-- Arrow from Asset to Engine -->
  <line x1="600" y1="220" x2="400" y2="380" class="arrow"/>
  <line x1="600" y1="220" x2="150" y2="380" class="arrow"/>
  
  <!-- State Management -->
  <g id="state">
    <text x="800" y="350" class="section-title">State Management (Zustand)</text>
    
    <rect x="750" y="380" width="250" height="140" class="box"/>
    <text x="875" y="410" text-anchor="middle" class="label">Helmet Store</text>
    <text x="875" y="430" text-anchor="middle" class="sub-label">Config { shell, facemask... }</text>
    <text x="875" y="450" text-anchor="middle" class="sub-label">Pattern State</text>
    <text x="875" y="470" text-anchor="middle" class="sub-label">Active Zone</text>
    <text x="875" y="490" text-anchor="middle" class="sub-label">History (Undo/Redo)</text>
  </g>
  
  <!-- Interaction between Engine and State -->
  <line x1="500" y1="450" x2="750" y2="450" class="arrow" marker-start="url(#arrowhead)"/>
  
  <!-- UI Layer -->
  <g id="ui">
    <text x="100" y="600" class="section-title">User Interface</text>
    
    <!-- Controls -->
    <rect x="50" y="630" width="180" height="100" class="box"/>
    <text x="140" y="655" text-anchor="middle" class="label">Customization UI</text>
    <text x="140" y="675" text-anchor="middle" class="sub-label">Zone Selector Tabs</text>
    <text x="140" y="690" text-anchor="middle" class="sub-label">Color Pickers</text>
    <text x="140" y="705" text-anchor="middle" class="sub-label">Material Toggles</text>
    
    <!-- Preview -->
    <rect x="280" y="630" width="180" height="100" class="box"/>
    <text x="370" y="655" text-anchor="middle" class="label">Actions</text>
    <text x="370" y="675" text-anchor="middle" class="sub-label">Screenshot Capture</text>
    <text x="370" y="690" text-anchor="middle" class="sub-label">GLB Export</text>
    <text x="370" y="705" text-anchor="middle" class="sub-label">Reset / Randomize</text>
  </g>
  
  <!-- Integration -->
  <g id="integration">
    <text x="800" y="600" class="section-title">Integration</text>
    
    <rect x="750" y="630" width="250" height="100" class="box-highlight"/>
    <text x="875" y="655" text-anchor="middle" class="label">CFB Fantasy Platform</text>
    <text x="875" y="675" text-anchor="middle" class="sub-label">Pro Plan Feature</text>
    <text x="875" y="690" text-anchor="middle" class="sub-label">Team Branding</text>
    <text x="875" y="705" text-anchor="middle" class="sub-label">League Customization</text>
  </g>
  
  <!-- UI Flows -->
  <line x1="140" y1="630" x2="875" y2="520" class="arrow"/>
  <line x1="370" y1="630" x2="875" y2="520" class="arrow"/>
  <line x1="460" y1="730" x2="750" y2="680" class="arrow"/>
  
</svg>
