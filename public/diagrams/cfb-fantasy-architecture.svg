<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Inter, sans-serif; font-size: 24px; font-weight: 600; fill: #ffffff; }
      .section-title { font-family: Inter, sans-serif; font-size: 16px; font-weight: 600; fill: #ffffff; }
      .label { font-family: Inter, sans-serif; font-size: 14px; font-weight: 500; fill: #e5e5e5; }
      .sub-label { font-family: Inter, sans-serif; font-size: 12px; fill: #a0a0a0; }
      .arrow { stroke: #3b82f6; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .box { fill: rgba(255, 255, 255, 0.05); stroke: rgba(255, 255, 255, 0.1); stroke-width: 1; rx: 8; }
      .box-highlight { fill: rgba(59, 130, 246, 0.1); stroke: rgba(59, 130, 246, 0.3); stroke-width: 1.5; rx: 8; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#3b82f6" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#030303"/>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="title">CFB Fantasy V2 Architecture</text>
  
  <!-- Data Sources Layer -->
  <g id="data-sources">
    <text x="100" y="100" class="section-title">External Data</text>
    
    <!-- CFBD API -->
    <rect x="50" y="120" width="140" height="80" class="box"/>
    <text x="120" y="145" text-anchor="middle" class="label">CFBD API</text>
    <text x="120" y="165" text-anchor="middle" class="sub-label">Game Stats</text>
    <text x="120" y="180" text-anchor="middle" class="sub-label">Player Metadata</text>
    
    <!-- Betting Odds -->
    <rect x="220" y="120" width="140" height="80" class="box"/>
    <text x="290" y="145" text-anchor="middle" class="label">Betting Data</text>
    <text x="290" y="165" text-anchor="middle" class="sub-label">Lines & Spreads</text>
    
    <!-- Internal Proprietary -->
    <rect x="390" y="120" width="140" height="80" class="box-highlight"/>
    <text x="460" y="145" text-anchor="middle" class="label">Proprietary</text>
    <text x="460" y="165" text-anchor="middle" class="sub-label">EA Ratings</text>
    <text x="460" y="180" text-anchor="middle" class="sub-label">Weather Index</text>
  </g>
  
  <!-- ETL Pipeline Layer -->
  <g id="etl-pipeline">
    <text x="100" y="280" class="section-title">Data Pipeline</text>
    
    <rect x="200" y="240" width="400" height="100" class="box"/>
    <text x="400" y="270" text-anchor="middle" class="label">Ingestion Engine</text>
    <text x="400" y="290" text-anchor="middle" class="sub-label">Normalization â€¢ Validation</text>
    <text x="400" y="310" text-anchor="middle" class="sub-label">Player Projection Algorithm</text>
  </g>
  
  <!-- Arrows from Data Sources to ETL -->
  <line x1="120" y1="200" x2="300" y2="240" class="arrow"/>
  <line x1="290" y1="200" x2="350" y2="240" class="arrow"/>
  <line x1="460" y1="200" x2="400" y2="240" class="arrow"/>
  
  <!-- Backend Services (Supabase) -->
  <g id="backend">
    <text x="800" y="280" class="section-title">Supabase Infrastructure</text>
    
    <!-- Database -->
    <rect x="750" y="240" width="180" height="100" class="box-highlight"/>
    <text x="840" y="265" text-anchor="middle" class="label">PostgreSQL</text>
    <text x="840" y="285" text-anchor="middle" class="sub-label">Relational Data</text>
    <text x="840" y="300" text-anchor="middle" class="sub-label">Row Level Security</text>
    <text x="840" y="315" text-anchor="middle" class="sub-label">Extensions (UUID)</text>
    
    <!-- Auth -->
    <rect x="950" y="240" width="140" height="100" class="box"/>
    <text x="1020" y="265" text-anchor="middle" class="label">Auth</text>
    <text x="1020" y="285" text-anchor="middle" class="sub-label">JWT Tokens</text>
    <text x="1020" y="300" text-anchor="middle" class="sub-label">User Management</text>
    
    <!-- Realtime -->
    <rect x="750" y="380" width="340" height="80" class="box-highlight"/>
    <text x="920" y="405" text-anchor="middle" class="label">Supabase Realtime</text>
    <text x="920" y="425" text-anchor="middle" class="sub-label">WebSocket Channels (draft_sessions, picks)</text>
    <text x="920" y="440" text-anchor="middle" class="sub-label">Instant State Synchronization</text>
  </g>
  
  <!-- Arrow from ETL to Database -->
  <line x1="600" y1="290" x2="750" y2="290" class="arrow"/>
  
  <!-- Frontend -->
  <g id="frontend">
    <text x="100" y="580" class="section-title">Frontend Application</text>
    
    <rect x="50" y="540" width="600" height="200" class="box-highlight"/>
    <text x="350" y="570" text-anchor="middle" class="label">Next.js 15 + React 19 (Turbopack)</text>
    
    <!-- Features -->
    <text x="150" y="610" text-anchor="middle" class="label" style="font-size: 12px;">Draft System</text>
    <text x="150" y="630" text-anchor="middle" class="sub-label">Snake / Auction Logic</text>
    <text x="150" y="645" text-anchor="middle" class="sub-label">Live Timer (Client Sync)</text>
    
    <text x="350" y="610" text-anchor="middle" class="label" style="font-size: 12px;">League Management</text>
    <text x="350" y="630" text-anchor="middle" class="sub-label">Commissioner Tools</text>
    <text x="350" y="645" text-anchor="middle" class="sub-label">Scoring Settings</text>
    
    <text x="550" y="610" text-anchor="middle" class="label" style="font-size: 12px;">Pro Features</text>
    <text x="550" y="630" text-anchor="middle" class="sub-label">3D Helmet Editor</text>
    <text x="550" y="645" text-anchor="middle" class="sub-label">Advanced Analytics</text>
  </g>
  
  <!-- Arrows to Frontend (Realtime) -->
  <path d="M 920 460 L 920 500 L 350 500 L 350 540" class="arrow" style="stroke-dasharray: 5,5;"/>
  <text x="635" y="490" text-anchor="middle" class="sub-label" style="fill: #3b82f6;">WebSocket Subscription</text>
  
  <!-- Arrow from Frontend to Database (API) -->
  <path d="M 650 640 L 700 640 L 700 340 L 750 340" class="arrow"/>
  <text x="725" y="500" text-anchor="middle" class="sub-label" transform="rotate(-90 715 500)">REST API / RPC Calls</text>

  <!-- Helmet Editor Connection -->
  <g id="helmet-integration">
    <rect x="800" y="600" width="200" height="100" class="box"/>
    <text x="900" y="625" text-anchor="middle" class="label">Helmet Editor (R3F)</text>
    <text x="900" y="645" text-anchor="middle" class="sub-label">Embedded Component</text>
    <text x="900" y="660" text-anchor="middle" class="sub-label">Direct GLB Rendering</text>
  </g>
  
  <line x1="650" y1="650" x2="800" y2="650" class="arrow"/>

</svg>
